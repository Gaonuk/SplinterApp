\dt
\q
select * from usuarios;
insert into table usuarios values(u1, 123@mail.com, 123, usuario 1);
insert into usuarios values(u1, 123@mail.com, 123, usuario 1);
insert into usuarios values(u1, 123@mail.com, 123, usuario_1);
insert into usuarios values('u1', '123@mail.com', '123', 'usuario 1');
select * from usuarios;1
select * from ciudades;
select * from ciudades;
insert into ciudades values(Santiago, Chile, +56 9 12345678);
insert into ciudades values('Santiago', 'Chile', '+56 9 12345678');
select * from destinos;
insert into destinos values(default, 'Santiago', 'Valparaiso', '12:00', 'Bus', 50, 10000);
select * from destinos;
insert into destinos values(default, 'Santiago', 'Rancagua', '12:00', 'Bus', 50, 10000);
select * from destinos;
select * from hoteles;
insert into hoteles values(default, 'Calle 1', '+56 9 12345677', 15000, 2019:10:10, 2020:06:06, 'Santiago');
insert into hoteles values(default, 'Calle 1', '+56 9 12345677', 15000, 2019-10-10, 2020-06-06, 'Santiago');
insert into hoteles values(default, 'Calle 1', '+56 9 12345677', 15000, 2020-04-04, 2020-06-06, 'Santiago');
insert into hoteles values(default, 'Calle 1', '+56 9 12345677', 15000, '2020-04-04', '2020-06-06', 'Santiago');
select * from hoteles;
\dt
select * from tickets;
insert into tickets values(3000, 15, '2020-03-26', '2020-10-10', 1);
select + from ciudades, usuarios;
select * from ciudades, usuarios;
select * from ciudades, usuarios WHERE nombre='Santiago';
select * from ciudades, usuarios WHERE ciudades.nombre='Santiago';
select * from ciudades, usuarios WHERE usuarios.nombre='Santiago';
q;
\dt
select * from ciudades;
drop table ciudades;
create table ciudades (cid SERIAL PRIMARY KEY, nombre varchar, pais varchar, contacto varchar;);
create table ciudades (cid SERIAL PRIMARY KEY, nombre varchar, pais varchar, contacto varchar);
select * from ciudades;
\dt
select * from destinos;
COPY ciudades FROM "C:\Users\Vicente\ciudades-paises.csv" DELIMITER ',' CSV HEADER;
COPY ciudades FROM 'C:\Users\Vicente\ciudades-paises.csv' DELIMITER ',' CSV HEADER;
\copy ciudades FROM 'C:\Users\Vicente\ciudades-paises.csv' WITH DELIMITER ',' CSV HEADER;
\copy ciudades FROM 'C:\Users\Vicente\ciudades-paises.csv' WITH DELIMITER ',' CSV HEADER;
\copy ciudades FROM 'C:\Users\Vicente/ciudades-paises.csv' WITH DELIMITER ',' CSV HEADER;
\copy ciudades FROM 'ciudades-paises.csv' WITH DELIMITER ',' CSV HEADER;
\copy ciudades FROM '/ciudades-paises.csv' WITH DELIMITER ',' CSV HEADER;
\copy ciudades FROM '/ciudades_paises.csv' WITH DELIMITER ',' CSV HEADER;
\copy ciudades FROM 'ciudades_paises.csv' WITH DELIMITER ',' CSV HEADER;
\copy ciudades FROM '..\ciudades_paises.csv' WITH DELIMITER ',' CSV HEADER;
\copy ciudades FROM 'C:\Users\Vicente\ciudades_paises.csv' WITH DELIMITER ',' CSV HEADER;
dir;
\q
\dt
\q
\dt
\q
\dt
\q
\q
\i Sites/procedimiento_almacenado/cid_artistas.sql
\q
\i Sites/procedimiento_almacenado/cid_artistas.sql
\q
SELECT * FROM cid_artistas(('Giotto', 'Donatello'));
SELECT * FROM cid_artistas('Giotto');
\q
SELECT * FROM cid_artistas(('Giotto', 'Donatello'));
SELECT * FROM cid_artistas('Giotto');
SELECT * FROM cid_artistas(('Giotto'));
SELECT DISTINCT ubica_en.cid, artistas.nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN ('Giotto');
SELECT DISTINCT ubica_en.cid, artistas.nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN ('Giotto', 'Donatello');
SELECT DISTINCT ubica_en.cid, artistas.nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN ('Giotto', 'Donatello', 'Caravaggio');
\dt
\d ciudades
SELECT nombre FROM ciudades;
\q
SELECT DISTINCT ubica_en.cid, artistas.nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN ('Giotto');
SELECT DISTINCT ubica_en.cid, artistas.nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN ('Giotto');
SELECT DISTINCT ubica_en.cid, artistas.nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN 'Giotto';
SELECT * FROM cid_artistas('('Giotto')');
SELECT * FROM cid_artistas(('Giotto'));
SELECT * FROM cid_artistas('Giotto');
\q
\i Sites/procedimiento_almacenado/cid_artistas.sql
SELECT * FROM cid_artistas(giotto);
SELECT * FROM cid_artistas('giotto');
\q
\i Sites/procedimiento_almacenado/cid_artistas.sql
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN ('Giotto');
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN ('Giotto');
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN ('(Giotto)');
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN ('(Giotto)');
\q
\i Sites/procedimiento_almacenado/cid_artistas.sql
DROP FUNCTION cid(artistas);
DROP FUNCTION cid_artistas();
DROP FUNCTION cid_artistas(VARCHAR);
\i Sites/procedimiento_almacenado/cid_artistas.sql
SELECT * FROM cid_artistas('Giotto');
SELECT * FROM cid_artistas('('Giotto')');
SELECT * FROM cid_artistas("('Giotto')");
SELECT * FROM cid_artistas(('Giotto'));
SELECT * FROM cid_artistas('Giotto');
SELECT * FROM cid_artistas('Giotto');
SELECT * FROM cid_artistas('(Giotto)');
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN (Giotto);
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN ('Giotto');
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN '('Giotto')';
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN '('Giotto')';
\q
\dt
\d artistas
SELECT fecha_fall FROM artistas;
SELECT fecha_nac FROM artistas;
\q
SELECT * FROM ciudades;
\dt
SELECT * FROM paises;
\q
COPY ;
\COPY ciudades from 'Entrega2/ciudades.csv' DELIMITER ',' CSV HEADER
SELECT * FROM ciudades;
\d ciudades;
DELETE * FROM ciudades;
DELETE FROM ciudades;
SELECT * FROM ciudades;
\COPY ciudades from 'Entrega2/ciudades.csv' DELIMITER ',' CSV HEADER
SELECT * FROM ciudades;
\q
SELECT * FROM ciudades;
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN  ('Giotto');
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN  ('Giacomo');
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN  ('Giacomo');
SELECT * FROM artistas;
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN  ('Giacomo della Porta');
\dt
\q
\d
\d ubica_en
DELETE FROM ubica_en;
\COPY ubica_en FROM 'Entrega2/ubica_en.csv' CSV DELIMITER ',' HEADER
SELECT * FROM ubica_en;
SELECT * FROM lugares;
SELECT * FROM ciudades;
\q
\d
\d artistas
ELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN ('1');
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN ('1');
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN ('2');
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN ('2,3');
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN ('Donatello');
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN ('Donatello, Caravaggio');
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN ('Caravaggio');
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN (''Caravaggio', 'Donatello'');
SELECT DISTINCT ubica_en.cid AS cid, artistas.nombre AS nombre    FROM artistas, ciudades, obras, obras_en, realizo, ubica_en    WHERE artistas.aid = realizo.aid AND obras.oid = realizo.oid AND obras.oid = obras_en.oid AND ubica_en.lid = obras_en.lid    AND artistas.nombre IN ('Caravaggio', 'Donatello');
\q
SELECT * FROM pg_extensions;
SELECT * FROM pg_avaible_extensions;
SELECT * FROM pg_avaible_extensions;
\q
pg_extensions;
\d pg_extensions;
select * from pg_extension;
select * from pg_available_extensions;
\q
update artistias set foto_url='https://historia-arte.com/_/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpbSI6WyJcL2FydGlzdFwvaW1hZ2VGaWxlXC9iaWxkLW90dGF2aW9fbGVvbmlfY2FyYXZhZ2dpby5qcGciLCJyZXNpemVDcm9wLDQwMCw0MDAsQ1JPUF9FTlRST1BZIl19.1jyWicmcmhjD2HUyZ71ftRHCfe8b7Y/uWLJ-vx_w-Qvk.jpg' where nombre='Caravaggio';
update artistas set foto_url='https://historia-arte.com/_/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpbSI6WyJcL2FydGlzdFwvaW1hZ2VGaWxlXC9iaWxkLW90dGF2aW9fbGVvbmlfY2FyYXZhZ2dpby5qcGciLCJyZXNpemVDcm9wLDQwMCw0MDAsQ1JPUF9FTlRST1BZIl19.1jyWicmcmhjD2HUyZ71ftRHCfe8b7Y/uWLJ-vx_w-Qvk.jpg' where nombre='Caravaggio';
update artistas set foto_url='https://www.buscabiografias.com/img/people/Rafael_Sanzio.jpg' where nombre='Raffaello Sanzio';
update artistas set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/e/ef/Vasari_autoritratto.jpg/200px-Vasari_autoritratto.jpg' where nombre='Giorgio Vasari';
update artistas set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/Gian_Lorenzo_Bernini%2C_self-portrait%2C_c1623.jpg/220px-Gian_Lorenzo_Bernini%2C_self-portrait%2C_c1623.jpg' where nombre='Gian Lorenzo Bernini';
update artistas set foto_url='https://e00-elmundo.uecdn.es/assets/multimedia/imagenes/2018/11/28/15434346653973.jpg' where nombre='Leonardo da Vinci';
update artistas set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Fede_Galizia_-_Portrait_of_Federico_Zuccari_-_WGA8432.jpg/220px-Fede_Galizia_-_Portrait_of_Federico_Zuccari_-_WGA8432.jpg' where nombre='Federico Zuccaro';
update artistas set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Fede_Galizia_-_Portrait_of_Federico_Zuccari_-_WGA8432.jpg/220px-Fede_Galizia_-_Portrait_of_Federico_Zuccari_-_WGA8432.jpg' where nombre='';
update artistas set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Fede_Galizia_-_Portrait_of_Federico_Zuccari_-_WGA8432.jpg/220px-Fede_Galizia_-_Portrait_of_Federico_Zuccari_-_WGA8432.jpg' where nombre='';
Jacques-Louis DavidJacques-Louis Davidupdate artistas set foto_url='https://historia-arte.com/_/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpbSI6WyJcL2FydGlzdFwvaW1hZ2VGaWxlXC9kYXZpZC5qcGciLCJyZXNpemVDcm9wLDQwMCw0MDAsQ1JPUF9FTlRST1BZIl19.Q-Kjs95_MDlY2Xeilicfe0U3j5utKoY3xIiZenraKC0.jpg' where nombre='Jacques-Louis David';
Jacques-Louis DavidJacques-Louis Davidupdate artistas set foto_url='https://historia-arte.com/_/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpbSI6WyJcL2FydGlzdFwvaW1hZ2VGaWxlXC9kYXZpZC5qcGciLCJyZXNpemVDcm9wLDQwMCw0MDAsQ1JPUF9FTlRST1BZIl19.Q-Kjs95_MDlY2Xeilicfe0U3j5utKoY3xIiZenraKC0.jpg' where nombre='Jacques-Louis David';
update artistas set foto_url='https://historia-arte.com/_/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpbSI6WyJcL2FydGlzdFwvaW1hZ2VGaWxlXC9kYXZpZC5qcGciLCJyZXNpemVDcm9wLDQwMCw0MDAsQ1JPUF9FTlRST1BZIl19.Q-Kjs95_MDlY2Xeilicfe0U3j5utKoY3xIiZenraKC0.jpg' where nombre='Jacques-Louis David';
update artistas set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Duquesnoy1776.jpg/220px-Duquesnoy1776.jpg' where nombre='Jerome Duquesnoy';
update artistas set foto_url='https://vignette.wikia.nocookie.net/theassassinscreed/images/6/6a/Andrea-del-verrocchio-1-sized.jpg/revision/latest?cb=20110422234830&path-prefix=es' where nombre='Andrea del Verrocchio';
update artistas set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/Eugene_delacroix.jpg/220px-Eugene_delacroix.jpg' where nombre='Eugene Delacroix';
update artistas set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Sandro_Botticelli_083.jpg/220px-Sandro_Botticelli_083.jpg' where nombre='Sandro Botticelli';
update artistas set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/3/35/Vite_de_pi%C3%B9_eccellenti_pittori_scultori_ed_architetti_%281767%29_%2814597572560%29.jpg/250px-Vite_de_pi%C3%B9_eccellenti_pittori_scultori_ed_architetti_%281767%29_%2814597572560%29.jpg' where nombre='Arnolfo di Cambio';
update artistas set foto_url='https://mymodernmet.com/wp/wp-content/uploads/2019/04/michelangelo-facts-7.jpg' where nombre='Michelangelo Buonarroti';
update artistas set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/15th-century_unknown_painters_-_Five_Famous_Men_%28detail%29_-_WGA23920.jpg/220px-15th-century_unknown_painters_-_Five_Famous_Men_%28detail%29_-_WGA23920.jpg' where nombre='Giotto';
update artistas set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/15th-century_unknown_painters_-_Five_Famous_Men_%28detail%29_-_WGA23920.jpg/220px-15th-century_unknown_painters_-_Five_Famous_Men_%28detail%29_-_WGA23920.jpg' where nombre='';
update artistas set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/b/b5/San_Pudenziana.040.JPG/220px-San_Pudenziana.040.JPG' where nombre='Giacomo della Porta';
update artistas set foto_url='https://www.uantwerpen.be/images/uantwerpen/personalpage03868/c593ab0554a0f3100cff508d84bc44c6.jpg' where nombre='Floris Geerts';
select * from artistas;
update artistas set foto_url='https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png' where nombre='Kristin Geerts';
ALTER TABLE obras ADD foto_url text;
update obras set foto_url='https://painting-planet.com/images2/la-ultima-cena-leonardo-da-vinci_1.jpg' where nombre='La última cena';
select * from obrasl;
select * from obras;
update obras set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Sandro_Botticelli_-_La_nascita_di_Venere_-_Google_Art_Project_-_edited.jpg/300px-Sandro_Botticelli_-_La_nascita_di_Venere_-_Google_Art_Project_-_edited.jpg' where nombre='El nacimiento de Venus';
update obras set foto_url='https://www.artehistoria.com/sites/default/files/styles/full_horizontal/public/imagenobra/CAS02356.jpg?itok=xn9-izOI' where nombre='El Santo Entierro';
update obras set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/%27Moses%27_by_Michelangelo_JBU160.jpg/250px-%27Moses%27_by_Michelangelo_JBU160.jpg' where nombre='El Moisés';
update obras set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/2/25/Sandro_Botticelli_-_La_Primavera_-_Google_Art_Project.jpg/300px-Sandro_Botticelli_-_La_Primavera_-_Google_Art_Project.jpg' where nombre='La primavera';
update obras set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Sandro_Botticelli_054.jpg/250px-Sandro_Botticelli_054.jpg' where nombre='San Sebastián';
update obras set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/f/fe/Rapha%C3%ABl_-_Les_Trois_Gr%C3%A2ces_-_Google_Art_Project_2.jpg/300px-Rapha%C3%ABl_-_Les_Trois_Gr%C3%A2ces_-_Google_Art_Project_2.jpg' where nombre='Las Gracias';
update obras set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/8/8a/Michelangelo%27s_Pieta_5450_cropncleaned.jpg/245px-Michelangelo%27s_Pieta_5450_cropncleaned.jpg' where nombre='La Piedad';
update obras set foto_url='https://historia-arte.com/_/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpbSI6WyJcL2FydHdvcmtcL2ltYWdlRmlsZVwvbGF2YW5ndWFyZGlhLWctMTc2NDc0NjA5MTkuanBnIiwicmVzaXplLDE1MDB8Zm9ybWF0LHdlYnAiXX0.QHN_tSslKa_aZVLQTzTkhn9HSZ52SEaAMzw7fwvqm5w.webp' where nombre='La Libertad guiando al pueblo';
update obras set foto_url='https://1.bp.blogspot.com/-IuxdVA3RbGo/VDpWmCBYm4I/AAAAAAAADMY/EyLMQ7boNvw/s1600/magdalena%2Bpenitente.jpg' where nombre='María Magdalena Penitente';
update obras set foto_url='https://uploads2.wikiart.org/images/caravaggio/annunciation-1608(1).jpg!Large.jpg' where nombre='La Anunciación';
select * from realizo;
select * from obras;
SELECT obras.oid, obras.nombre, obras.fecha_in, obras.fecha_fin, obras.periodo, obras.foto_url, artistas.nombre   FROM obras, artistas, realizo WHERE realizo.oid = obras.oid AND realizo.aid = artistas.aid GROUP BY obras.oid;
SELECT obras.oid, obras.nombre, obras.fecha_in, obras.fecha_fin, obras.periodo, obras.foto_url, artistas.nombre   FROM obras, artistas, realizo WHERE realizo.oid = obras.oid AND realizo.aid = artistas.aid;
update obras set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3b/Annunciation_%28Leonardo%29.jpg/300px-Annunciation_%28Leonardo%29.jpg' where oid=1;
select * from obras;
select * from obras;
select * from obras where obras.nombre like('%La anun%');
select * from obras where Lower(obras.nombre) like('%La anun%');
select * from obras where Lower(obras.nombre) like('%la anun%');
update obras set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3b/Annunciation_%28Leonardo%29.jpg/300px-Annunciation_%28Leonardo%29.jp' where oid=30;
select * from obras where Lower(obras.nombre) like('%la anun%');
SELECT obras.oid, obras.nombre, obras.fecha_in, obras.fecha_fin, obras.periodo, obras.foto_url, artistas.nombre   FROM obras, artistas, realizo WHERE realizo.oid = obras.oid AND realizo.aid = artistas.aid;
SELECT * FROM obras GROUP BY obras.oid DESC;
SELECT obras.oid, obras.nombre, obras.fecha_in, obras.fecha_fin, obras.periodo, obras.foto_url, artistas.nombre   FROM obras, artistas, realizo WHERE realizo.oid = obras.oid AND realizo.aid = artistas.aid;
select * from realizo;
update realizo set oid=30 where oid=1 and aid=15;
select * from realizo;
select * from artistas;
select * from realizo;
update realizo set oid=30 where oid=1 and aid=3;
update realizo set oid=1 where oid=30 and aid=15;
update obras set foto_url='https://3.bp.blogspot.com/-0Pc2pJCnZBY/Ud_j7g83DdI/AAAAAAAAA5M/peFbbMJO5e4/s320/annunciation-1608(1).jpg' where oid=30;
\q
\d
SELECT * FROM obras, realizo;
SELECT oid FROM obras;
SELECT oid FROM realizo;
\d obras;
\d
\q
\COPY artista from 'Entrega2/artistas.csv' DELIMITER ',' CSV HEADER
\COPY artistas(aid, nombre, fecha from 'Entrega2/artistas.csv' DELIMITER ',' CSV HEADER
\COPY artista from 'Entrega2/artistas.csv' DELIMITER ',' CSV HEADER
\d artistas
\COPY artistas(aid, nombre, fecha_nac, fecha_fall, descripcion) from 'Entrega2/artistas.csv' DELIMITER ',' CSV HEADER
\COPY ciudades from 'Entrega2/ciudades.csv' DELIMITER ',' CSV HEADER
DELETE FROM ciudades; 
\COPY ciudades from 'Entrega2/ciudades.csv' DELIMITER ',' CSV HEADER
DELETE FROM esculturas; 
\COPY esculturas from 'Entrega2/esculturas.csv' DELIMITER ',' CSV HEADER
DELETE FROM frescos; 
\COPY esculturas from 'Entrega2/frescos.csv' DELIMITER ',' CSV HEADER
\COPY frescos from 'Entrega2/frescos.csv' DELIMITER ',' CSV HEADER
DELETE FROM pinturas; 
\COPY pinturas from 'Entrega2/pinturas.csv' DELIMITER ',' CSV HEADER
DELETE FROM lugares; 
DELETE FROM museos; 
DELETE FROM iglesias; 
DELETE FROM plazas; 
DELETE FROM lugares; 
\COPY museos from 'Entrega2/museos.csv' DELIMITER ',' CSV HEADER
\COPY lugares from 'Entrega2/lugares.csv' DELIMITER ',' CSV HEADER
\COPY museos from 'Entrega2/museos.csv' DELIMITER ',' CSV HEADER
\COPY plazas from 'Entrega2/plazas.csv' DELIMITER ',' CSV HEADER
\COPY iglesias from 'Entrega2/iglesias.csv' DELIMITER ',' CSV HEADER
DELETE FROM obras; 
SELECT oid, nombre FROM obras;
DELETE FROM obras; 
DELETE FROM frescos; 
DELETE FROM pinturas; 
DELETE FROM esculturas; 
DELETE FROM obras; 
\COPY obras from 'Entrega2/obras.csv' DELIMITER ',' CSV HEADER
SELECT * FROM obras;
ROLLBACK;
\q
SELECT * FROM obras;
pg_restore --dbname=grupo84e3 --verbose /home/grupo84/Sites/e3backup.tar;
\pg_restore --dbname=grupo84e3 --verbose /home/grupo84/Sites/e3backup.tar
psqlgrupo84;
psql grupo84
\q
\d
SELECT * FROM obras;
DROP TABLE obras;
\q
\d
DROP TABLE ciudades;
SELECT * FROM ciudades_cid_seq;
DROP SEQUENCE ciudades_cid_seq;
\d
\q
\dt
SELECT * FROM obras;
\q
\dt
\d artistas
ALTER TABLE foto_url DROP COLUMN foto_url;
ALTER TABLE artistas DROP COLUMN foto_url;
\COPY obras from 'Entrega2/obras.csv' DELIMITER ',' CSV HEADER
\COPY obras from 'Entrega2/obras.csv' DELIMITER ',' CSV HEADER
\q
\COPY obras from 'Entrega2/obras.csv' DELIMITER ',' CSV HEADER
\d artistas
SELECT * FROM artistas;
SELECT * FROM obras;
ALTER TABLE obras DROP COLUMN foto_url;
\COPY obras from 'Entrega2/obras.csv' DELIMITER ',' CSV HEADER
SELECT * FROM obras;
SELECT * FROM artistas;
DELETE FROM artistas; 
\COPY artistas from 'Entrega2/artistas.csv' DELIMITER ',' CSV HEADER
DELETE FROM realizo; 
\COPY realiza from 'Entrega2/realiza.csv' DELIMITER ',' CSV HEADER
\COPY realiza from 'Entrega2/realizo.csv' DELIMITER ',' CSV HEADER
\COPY realizo from 'Entrega2/realizo.csv' DELIMITER ',' CSV HEADER
DELETE FROM ubica_en; 
\COPY ubica_en from 'Entrega2/ubica_en.csv' DELIMITER ',' CSV HEADER
DELETE FROM paises; 
DELETE FROM ciudades; 
DELETE FROM paises; 
\COPY paises from 'Entrega2/paises.csv' DELIMITER ',' CSV HEADER
\COPY ciudades from 'Entrega2/ciudades.csv' DELIMITER ',' CSV HEADER
\d
SELECT aid from artistas;
select cid from ciudades;
select * from esculturas;
\COPY esculturas from 'Entrega2/esculturas.csv' DELIMITER ',' CSV HEADER
\COPY pinturas from 'Entrega2/pinturas.csv' DELIMITER ',' CSV HEADER
\COPY frescos from 'Entrega2/frescos.csv' DELIMITER ',' CSV HEADER
\d
SELECT * FROM iglesias;
SELECT * FROM museos;
SELECT * FROM plazas;
SELECT * FROM lugares;
SELECT * FROM ubica_en;
\d artistas
\d obras
\d realizo
ALTER TABLE artistas CREATE COLUMN 'url_imagen';
ALTER TABLE artistas ADD url_imagen TEXT;
\d artistas
ALTER TABLE obras ADD url_imagen TEXT;
\q
\q
\d
SELECT * FROM artistas;
SELECT foto_url FROM artistas;
SELECT aid, foto_url FROM artistas;
\q
\d artistas
\q
\d artistas
\q
ALTER TABLE obras DROP COLUMN url_imagen;
ALTER TABLE artistas DROP COLUMN url_imagen;
ALTER TABLE obras ADD foto_url TEXT;
ALTER TABLE artistas ADD foto_url TEXT;
INSERT INTO artistas(foto_url) SELECT foto_url FROM db_link('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid, foto_url), artistas WHERE urls.aid + 1 = artistas.aid; 
INSERT INTO artistas(foto_url) SELECT foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid, foto_url), artistas WHERE urls.aid + 1 = artistas.aid; 
INSERT INTO artistas(foto_url) SELECT foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT), artistas WHERE urls.aid + 1 = artistas.aid; 
INSERT INTO artistas(foto_url) SELECT urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT), artistas WHERE urls.aid + 1 = artistas.aid; 
INSERT INTO artistas(foto_url) SELECT urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT), artistas WHERE urls.aid + 1 = artistas.aid AND urls.foto_url NOT NULL; 
INSERT INTO artistas(foto_url) SELECT urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT), artistas WHERE urls.aid + 1 = artistas.aid AND urls.foto_url != NULL; 
SELECT * FROM artistas;
INSERT INTO artistas(foto_url) SELECT urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT), artistas WHERE urls.aid + 1 = artistas.aid AND urls.foto_url != NULL; 
\d artistas;
INSERT INTO artistas(foto_url) SELECT urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT), artistas WHERE urls.aid + 1 = artistas.aid AND urls.foto_url != NULL; 
UPDATE artistas set foto_url = (SELECT urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT), artistas WHERE urls.aid + 1 = artistas.aid AND urls.foto_url != NULL);
SELCT aid, foto_url from artistas;
SELECT aid, foto_url from artistas;
UPDATE artistas set foto_url = (SELECT urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT), artistas WHERE urls.aid + 1 = artistas.aid);
SELECT aid, foto_url from artistas;
UPDATE artistas set foto_url = (SELECT urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT), artistas WHERE urls.aid + 1 = artistas.aid AND urls.foto_url != NULL);
UPDATE artistas set artistas.foto_url = (SELECT urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT), artistas WHERE urls.aid + 1 = artistas.aid AND urls.foto_url != NULL);
SELECT urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT), artistas WHERE urls.aid + 1 = artistas.aid AND urls.foto_url != NULL;
SELECT urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT), artistas WHERE urls.aid + 1 = artistas.aid;
qqSELECT urls.aidm artistas.aid, urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT), artistas WHERE urls.aid + 1 = artistas.aid;
SELECT urls.aidm artistas.aid, urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT), artistas WHERE urls.aid + 1 = artistas.aid;
SELECT urls.aidm artistas.aid, urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT), artistas WHERE urls.aid + 1 = artistas.aid;
SELECT urls.aidm, artistas.aid, urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT),artistas WHERE urls.aid + 1 = artistas.aid;
SELECT urls.aidm, artistas.aid, urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT),artistas WHERE urls.aid + 1 = artistas.aid;
SELECT urls.aid, artistas.aid, urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT),artistas WHERE urls.aid + 1 = artistas.aid;SELECT urls.aid, artistas.aid, urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT),
;
SELECT urls.aid, artistas.aid, urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT),artistas WHERE urls.aid + 1 = artistas.aid;SELECT urls.aid, artistas.aid, urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT) ORDER BY urls.aid;
SELECT urls.aid, artistas.aid, urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT),artistas WHERE urls.aid + 1 = artistas.aid;SELECT urls.aid, artistas.aid, urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT) ORDER BY urls.aid;
SELECT urls.aid, artistas.aid, urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT),artistas WHERE urls.aid + 1 = artistas.aid;
SELECT urls.aid, artistas.aid, urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT),artistas WHERE urls.aid + 1 = artistas.aid ORDER BY urls.aid;
UPDATE artistas set foto_url = (SELECT urls.aid, artistas.aid, urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT),artistas WHERE urls.aid + 1 = artistas.aid ORDER BY urls.aid;);
UPDATE artistas set foto_url = (SELECT urls.aid, artistas.aid, urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT),artistas WHERE urls.aid + 1 = artistas.aid ORDER BY urls.aid);
UPDATE artistas set foto_url = (SELECT urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT),artistas WHERE urls.aid + 1 = artistas.aid O;
UPDATE artistas.[aid].[1] set foto_url = (SELECT urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT),artistas WHERE urls.aid + 1 = artistas.aid ORDER BY urls.aid WHERE artistas.aid = 1);
UPDATE artistas.aid.1 set foto_url = (SELECT urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT),artistas WHERE urls.aid + 1 = artistas.aid ORDER BY urls.aid WHERE artistas.aid = 1);
UPDATE artistas.aid = 1 set foto_url = (SELECT urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT),artistas WHERE urls.aid + 1 = artistas.aid ORDER BY urls.aid WHERE artistas.aid = 1);
SELECT urls.aid, artistas.aid, urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT),artistas WHERE urls.aid + 1 = artistas.aid ORDER BY urls.aid;
UPDATE artistas set foto_url = (SELECT urls.aid, artistas.aid, urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT),artistas WHERE urls.aid + 1 = artistas.aid ORDER BY urls.aid);
SELECT urls.aid, artistas.aid, urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT),artistas WHERE urls.aid + 1 = artistas.aid ORDER BY urls.ai;
UPDATE artistas set foto_url = urls.foto_url FROM dblink('dbname=grupo84 user=grupo84 password=grupo84', 'SELECT aid, foto_url FROM artistas') AS urls(aid INT, foto_url TEXT)WHERE urls.aid + 1 = artistas.aid;
SELECT aid, foto_url FROM artistas;
SELECT aid, nombre, foto_url FROM artistas;
SELECT oid, nombre, foto_url FOM obras;
SELECT oid, nombre, foto_url FrOM obras;
SELECT foto_url from artistas;
SELECT oid, obras.nombre, artistas.nombre FROM obras, artistas, realizo WHERE obras.oid = realizo.oid AND artistas.aid = realizo.aid;
SELECT obras.oid, obras.nombre, artistas.nombre FROM obras, artistas, realizo WHERE obras.oid = realizo.oid AND artistas.aid = realizo.aid;
SELECT obras.oid, obras.nombre, artistas.nombre FROM obras, artistas, realizo WHERE obras.oid = realizo.oid AND artistas.aid = realizo.aid;
SELECT fot_url from artistas;
SELECT foto_url from artistas;
SELECT obras.oid, obras.nombre, artistas.nombre FROM obras, artistas, realizo WHERE obras.oid = realizo.oid AND artistas.aid = realizo.aid;
SELECT obras.oid, obras.nombre, artistas.nombre, obras.fecha_in FROM obras, artistas, realizo WHERE obras.oid = realizo.oid AND artistas.aid = realizo.aid;
\q
\i Sites/procedimiento_almacenado/fotos_obras.sql
\q
\i Sites/procedimiento_almacenado/fotos_obras.sql
UPDATE obras SET foto_url= "https://es.wikipedia.org/wiki/El_nacimiento_de_Venus_(Botticelli)#/media/Archivo:Sandro_Botticelli_-_La_nascita_di_Venere_-_Google_Art_Project_-_edited.jpg" WHERE oid=39;
    UPDATE obras SET foto_url= 'https://es.wikipedia.org/wiki/El_nacimiento_de_Venus_(Botticelli)#/media/Archivo:Sandro_Botticelli_-_La_nascita_di_Venere_-_Google_Art_Project_-_edited.jpg' WHERE oid=39;
SELECT fotos_url from obras;
SELECT foto_url from obras;
\q
\i Sites/procedimiento_almacenado/fotos_obras.sql
SELECT fotos_obras();
SELECT foto_url from obras;
SELECT obras.oid, obras.nombre, artistas.nombre, obras.fecha_in FROM obras, artistas, realizo WHERE obras.oid = realizo.oid AND artistas.aid = realizo.aid;
\d
SELECT * FROM obras_en;
SELECT * FROM museos;
SELECT * FROM lugares;
SELECT obras.oid, obras.nombre, artistas.nombre, obras.fecha_in FROM obras, artistas, realizo WHERE obras.oid = realizo.oid AND artistas.aid = realizo.aid;
SELECT * FROM lugares;
SELECT * FROM obras_en;
\q
\d obras_en
DELETE FROM obras_en;
\q
select * from lugares;
\q
select * from lugares;
alter table add foto_url text;
alter table lugares add foto_url text;
select * from lugares;
\q
\i Sites/procedimiento_almacenado/fotos_lugares.sql
SELECT fotos_lugares();
\q
\i Sites/procedimiento_almacenado/fotos_lugares.sql 
Select fotos_lugares();
\q
\i Sites/procedimiento_almacenado/fotos_lugares.sql 
SELECT fotos_lugares();
select * from lugares;
\q
\dt
select * from lugares;
\q
\dt
select * from lugares, iglesias where lugares.lid = iglesias.lid and lugares.lid = 2;
select * from lugares, iglesias where lugares.lid = iglesias.lid and lugares.lid = 3;
SELECT lugares.lid, lugares.nombre, lugares.foto_url, iglesias.horario_in, iglesias.horario_fin FROM lugares, iglesias WHERE lugares.lid = iglesias.lid and lid=3;
SELECT lugares.lid, lugares.nombre, lugares.foto_url, iglesias.horario_in, iglesias.horario_fin FROM lugares, iglesias WHERE lugares.lid = iglesias.lid and lugares.\lid=3;
SELECT lugares.lid, lugares.nombre, lugares.foto_url, iglesias.horario_in, iglesias.horario_fin FROM lugares, iglesias WHERE lugares.lid = iglesias.lid and lugares.lid=3;
SELECT lugares.lid, lugares.nombre, lugares.foto_url, iglesias.horario_in, iglesias.horario_fin FROM lugares, iglesias WHERE lugares.lid = iglesias.lid and lugares.lid=3;
select * from iglesias where iglesias.lid = 2;
select iglesias.lid from iglesias;
select plazas.lid from plazas;
select museos.lid from museos;
select lid from lugares;
alter table lugares add tipo text;
select * from lugares;
\q
\i Sites/procedimiento_almacenado/tipos_lugares.sql 
SELECT tipos_lugares();
\q
select tipo from lugares;
select tipo from lugares;
Select artistas.nombre from artistas, realizo, (SELECT obras.oid, obras.nombre, obras.fecha_in, obras.fecha_fin, obras.periodo, obras.foto_url FROM obras, lugares, obras_en WHERE lugares.lid = obras_en.lid and obras.oid = obras_en.oid and lugares.lid = 1) as obras_lugar where obras_lugar.oid = realizo.oid and artistas.aid = realizo.aid;
Select artistas.aid, artistas.nombre, artistas.foto_url from artistas, realizo, (SELECT obras.oid, obras.nombre, obras.fecha_in, obras.fecha_fin, obras.periodo, obras.foto_url FROM obras, lugares, obras_en WHERE lugares.lid = obras_en.lid and obras.oid = obras_en.oid and lugares.lid = 1) as obras_lugar where obras_lugar.oid = realizo.oid and artistas.aid = realizo.aid;
Select DIstinct artistas.aid, artistas.nombre, artistas.foto_url from artistas, realizo, (SELECT obras.oid, obras.nombre, obras.fecha_in, obras.fecha_fin, obras.periodo, obras.foto_url FROM obras, lugares, obras_en WHERE lugares.lid = obras_en.lid and obras.oid = obras_en.oid and lugares.lid = 2) as obras_lugar where obras_lugar.oid = realizo.oid and artistas.aid = realizo.aid;
\q
select * from obras;
select * from obras where foto_url='';
select * from obras where foto_url=' ';
select oid from obras where foto_url=' ';
UPDATE obras set foto_url='https://image.shutterstock.com/image-vector/ui-image-placeholder-wireframes-apps-260nw-1037719204.jpg' where foto_url = '';
UPDATE obras set foto_url='https://image.shutterstock.com/image-vector/ui-image-placeholder-wireframes-apps-260nw-1037719204.jpg' where foto_url = ' '
UPDATE obras set foto_url='https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/%27Moses%27_by_Michelangelo_JBU160.jpg/250px-%27Moses%27_by_Michelangelo_JBU160.jpg' where nombre='El Moisés';
\q
select nombre from obras;
select nombre from obras UNION (select nombre from artistas) UNION (select nombre from lugares);
select * from museos;
select * from museos, lugares, where museos.lid = lugares.lid;
select * from museos, lugares where museos.lid = lugares.lid;
\q
select * from ciudades;
\q
